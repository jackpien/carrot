container_commands:
  00collectstatic:
    command: "django-admin.py collectstatic --noinput"
  01migrate:
    command: "django-admin.py migrate"
    leader_only: true
  #50movemanrayauthdata:
  #  command: "django-admin.py manray__move_auth_data"
  #  leader_only: true
  #51movemanrayuserprofile:
  #  command: "django-admin.py manray__move_user_profile"
  #  leader_only: true


option_settings:
  aws:elasticbeanstalk:container:python:
    WSGIPath: carrot/wsgi.py
  aws:elasticbeanstalk:application:environment:
    DJANGO_SETTINGS_DEBUG: 0
    DJANGO_SETTINGS_MODULE: carrot.settings
    DJANGO_SETTINGS_DATABASES_DEFAULT_HOST: localhost
    DJANGO_SETTINGS_DATABASES_DEFAULT_PASSWORD: testtest
  aws:elasticbeanstalk:managedactions:
    ManagedActionsEnabled: true
    PreferredStartTime: "Thu:22:30"
  aws:elasticbeanstalk:managedactions:platformupdate:
    UpdateLevel: minor
    InstanceRefreshEnabled: true
  aws:autoscaling:asg:
    MaxSize: '1'
    MinSize: '1'
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.micro
